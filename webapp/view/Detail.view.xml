<mvc:View controllerName="convenience.controller.Detail"
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"
    xmlns:m="sap.m"
    xmlns:c="sap.ui.core"
    xmlns:f="sap.f"
    xmlns:layout="sap.ui.layout"
    xmlns:t="sap.ui.table"
	xmlns:dnd="sap.ui.core.dnd"
    xmlns="sap.uxap"
	xmlns:unified="sap.ui.unified"
    height="100%"
    >
    <m:Page id="page" title="Detail Page">
        <m:content>
						<m:Button text="지점 등록" type="Transparent" enabled="{= !${inputModel>/editable}}" visible="{= !${inputModel>/editable}}"/>
						<m:Button text="영업 중지" type="Emphasized"/>
					<m:ObjectHeader
					id="oh1"
					responsive="true"
					intro="뭘까"
					title="뭐지"
					numberState="Success"
					backgroundDesign="Translucent">
					<m:attributes>
						<m:ObjectAttribute>

						</m:ObjectAttribute>
					</m:attributes>
					<m:statuses>
						<m:ObjectStatus
							title="Approval"
							text="Pending"
							state="Warning"/>
					</m:statuses>
					<m:headerContainer>
						<m:HeaderContainer id="headerContainer">
							<layout:HorizontalLayout allowWrapping="true">
								<layout:VerticalLayout class="sapUiMediumMarginEnd">
									<m:ObjectAttribute title="지점장" text="{inputModel>/StoreOwner}"/>
									<m:ObjectAttribute title="상세 주소" text="{inputModel>/StoreDetailloca}"/>
									<m:ObjectAttribute title="전화번호" text="{inputModel>/StorePhone}"/>
								</layout:VerticalLayout>
								<layout:VerticalLayout>
									<m:ObjectAttribute title="현재 품목 수"/>
									<m:ObjectStatus text="0" state="Error" />
								</layout:VerticalLayout>
							</layout:HorizontalLayout>
						</m:HeaderContainer>
					</m:headerContainer>
				</m:ObjectHeader>
			    <ObjectPageLayout id="ObjectPageLayout" upperCaseAnchorBar="false" height="100%">
                <sections>
                    <ObjectPageSection titleUppercase="false" title="재고 현황" visible="{inputModel>/editable}">
                        <subSections>
                            <ObjectPageSubSection titleUppercase="false">
                                <blocks>
									<t:Table
										id="table"
										rows="{stockModel>/}"
										selectionMode="MultiToggle"
										ariaLabelledBy="title">
										<t:extension>
											<m:OverflowToolbar style="Clear">
												<m:Title id="products" text="현재 재고"/>
												<m:ToolbarSpacer/>
												<m:Label text="SelectionMode:"/>
												<m:Select id="select" selectedKey="MultiToggle" change="onSelectionModeChange">
													<m:items>
														<c:Item key="MultiToggle" text="MultiToggle"/>
														<c:Item key="Single" text="Single"/>
														<c:Item key="None" text="None"/>
													</m:items>
												</m:Select>
												<m:ToggleButton text="Toggle Highlights" pressed="true" press="onHighlightToggle"/>
												<m:ToggleButton text="Toggle Alternate Row Colors" press="onAlternateToggle"/>
											</m:OverflowToolbar>
										</t:extension>
										<t:rowSettingsTemplate>
											<t:RowSettings highlight="{Status}"/>
										</t:rowSettingsTemplate>
										<t:columns>
											<t:Column>
												<m:Label text="Product Name"/>
												<t:template>
													<m:Text text="{Name}" wrapping="false"/>
												</t:template>
											</t:Column>
											<t:Column>
												<m:Label text="Product Id"/>
												<t:template>
													<m:Text text="{ProductId}" wrapping="false"/>
												</t:template>
											</t:Column>
											<t:Column hAlign="End">
												<m:Label text="Quantity"/>
												<t:template>
													<m:Text text="{Quantity}" wrapping="false"/>
												</t:template>
											</t:Column>
											<t:Column hAlign="End">
												<m:Label text="Price"/>
												<t:template>
													<unified:Currency value="{Price}" currency="{CurrencyCode}"/>
												</t:template>
											</t:Column>
										</t:columns>
									</t:Table>
                                </blocks>
                            </ObjectPageSubSection>
                        </subSections>
                    </ObjectPageSection>
                    <ObjectPageSection titleUppercase="false" title="상품 추가하기">
                        <subSections>
                            <ObjectPageSubSection titleUppercase="false">
                                <blocks>
									<m:HBox renderType="Bare">
										<t:Table 
											id="table1"
											selectionMode="Single"
											ariaLabelledBy="title"
											rows="{
												path: 'productModel>/',
												filters: {path: 'Rank', operator: 'EQ', value1: '0'}
											}">
											<t:extension>
												<m:OverflowToolbar id="infobar" style="Clear">
													<m:Title id="title" text="가능 품목"/>
												</m:OverflowToolbar>
											</t:extension>
											<t:columns>
												<t:Column
													sortProperty="ProductCode"
													filterProperty="ProductCode">
													<m:Text text="상품 코드" />
													<t:template>
														<m:Text text="{productModel>/ProductCode}" wrapping="false" />
													</t:template>
												</t:Column>
												<t:Column
													sortProperty="ProductName"
													filterProperty="ProductName">
													<m:Text text="상품명" />
													<t:template>
														<m:Text text="{productModel>/ProductName}" wrapping="false" />
													</t:template>
												</t:Column>
												<t:Column
													width="6rem"
													sortProperty="ProductPrice">
													<m:Text text="상품 가격" />
													<t:template>
														<unified:Currency value="{productModel>/ProductPrice}" currency="{productModel>/Unit}"/>
													</t:template>
												</t:Column>
												<t:Column
													hAlign="End"
													width="6rem"
													sortProperty="ProductWeight">
													<m:Text text="상품 무게" />
													<t:template>
														<unified:Currency value="{productModel>/ProductWeight}" currency="{productModel>/Wunit}"/>
													</t:template>
												</t:Column>
											</t:columns>
											<t:dragDropConfig>
												<dnd:DragInfo
													groupName="moveToTable2"
													sourceAggregation="rows"
													dragStart="onDragStart" />
												<dnd:DropInfo
													groupName="moveToTable1"
													drop="onDropTable1" />
											</t:dragDropConfig>
										</t:Table>
										<m:VBox justifyContent="Center" class="sapUiTinyMarginBeginEnd">
											<m:Button
												class="sapUiTinyMarginBottom"
												icon="sap-icon://navigation-right-arrow"
												tooltip="Move to selected"
												press="moveToTable2"/>
											<m:Button
												icon="sap-icon://navigation-left-arrow"
												tooltip="Move to available"
												press="moveToTable1"/>
										</m:VBox>
										<t:Table
											id="table2"
											selectionMode="Single"
											ariaLabelledBy="title2"
											rows="{
												path: 'cartModel>/',
												filters: {path: 'Rank', operator: 'GT', value1: '0'},
												sorter: {path: 'Rank', descending: true}
											}"
											noData="Please drag-and-drop products here.">
											<t:extension>
												<m:OverflowToolbar style="Clear">
													<m:Title id="title2" text="선택한 품목"/>
													<m:ToolbarSpacer/>
													<m:Button
														icon="sap-icon://save"
														tooltip="선택항목 추가"
														press="moveUp"/>
													<m:Button
														icon="sap-icon://reset"
														tooltip="상품 초기화"
														press="moveDown"/>
												</m:OverflowToolbar>
											</t:extension>
											<t:columns>
												<t:Column>
													<m:Text text="상품 코드" />
													<t:template>
														<m:Text text="{ProductCode}" wrapping="false" />
													</t:template>
												</t:Column>
												<t:Column>
													<m:Text text="상품명" />
													<t:template>
														<m:Text text="{ProductName}" wrapping="false" />
													</t:template>
												</t:Column>
												<t:Column
													width="6rem"
													sortProperty="ProductPrice">
													<m:Text text="상품 가격" />
													<t:template>
														<unified:Currency value="{ProductPrice}" currency="{Unit}"/>
													</t:template>
												</t:Column>
												<t:Column
													hAlign="End"
													width="6rem"
													sortProperty="ProductWeight">
													<m:Text text="상품 무게" />
													<t:template>
														<unified:Currency value="{ProductWeight}" currency="{Wunit}"/>
													</t:template>
												</t:Column>
											</t:columns>
											<t:dragDropConfig>
												<dnd:DragInfo
													groupName="moveToTable1"
													sourceAggregation="rows"
													dragStart="onDragStart" />
												<dnd:DropInfo
													groupName="moveToTable2"
													targetAggregation="rows"
													dropPosition="Between"
													drop="onDropTable2" />
												<dnd:DragDropInfo
													sourceAggregation="rows"
													targetAggregation="rows"
													dropPosition="Between"
													dragStart="onDragStart"
													drop="onDropTable2" />
											</t:dragDropConfig>
										</t:Table>
									</m:HBox>
                                </blocks>
                            </ObjectPageSubSection>
                        </subSections>
                    </ObjectPageSection>
                </sections>
            </ObjectPageLayout>
        </m:content>
    </m:Page>
</mvc:View>
